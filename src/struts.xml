<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"
	"http://struts.apache.org/dtds/struts-2.1.7.dtd">
<!-- 指定Struts 2配置文件的根元素 -->
<struts>
	<!-- 指定全局国际化资源文件 -->
	<constant name="struts.custom.i18n.resources" value="mess"/>
	
	<!-- 指定国际化编码所使用的字符集 -->	
	<constant name="struts.i18n.encoding" value="UTF-8"/>
	<constant name="struts.devMode" value="true"/>
	<!-- 所有的Action定义都应该放在package下 -->
	<package name="fan" extends="struts-default">
		<!-- 定义全局Result映射 -->
		<global-results>
			<result name="error">/error.jsp</result>
		</global-results>
		<!-- 登陆 -->
		<action name="login" class="com.imu.coursenet.action.LoginAction">
			<result name="input">/login.jsp</result>
			<result name="admin">/admin/admin-main.html</result>
			<result name="teacher">/teacher-main.html</result>
			<result name="student">/student-main.html</result>
		</action>
		<!-- 罗列人员 -->
		<action name="listAdmin" class="com.imu.coursenet.action.admin.listAdminAction">
				<result name="success">/admin/adminManage.jsp</result>	
		</action>
		<action name="listTeacher" class="com.imu.coursenet.action.admin.listTeacherAction">
				<result name="success">/admin/teacherManage.jsp</result>	
		</action>
		<action name="listStudent" class="com.imu.coursenet.action.admin.listStudentAction">
				<result name="success">/admin/studentManage.jsp</result>	
		</action>
		<action name="listDepartment" class="com.imu.coursenet.action.admin.listDepartmentAction">
				<result name="success">/admin/departmentManage.jsp</result>	
		</action>
		<!-- 用来列出所有部门，以便添加管理员 -->
		<action name="addAdmin" class="com.imu.coursenet.action.admin.AddAdminAction">
				<result name="success">/admin/addAdmin.jsp</result>	
		</action>
			<!-- 用来列出所有部门，以便添加教师 -->
		<action name="addTeacher" class="com.imu.coursenet.action.admin.AddTeacherAction">
				<result name="success">/admin/addTeacher.jsp</result>	
		</action>
			<!-- 用来列出所有部门，以便添加学生-->
		<action name="addStudent" class="com.imu.coursenet.action.admin.AddStudentAction">
				<result name="success">/admin/addStudent.jsp</result>	
		</action>
		
		<!-- 点击保存后，保存管理员信息 -->
		<action name="saveAdmin" class="com.imu.coursenet.action.admin.SaveAdminAction">
				<result type="redirectAction">
					<param name="actionName">listAdmin</param>
				</result>	
		</action>
		<!-- 点击保存后，保存教师信息 -->
		<action name="saveTeacher" class="com.imu.coursenet.action.admin.SaveTeacherAction">
				<result type="redirectAction">
					<param name="actionName">listTeacher</param>
				</result>	
		</action>
		<!-- 点击保存后，保存学生信息 -->
		<action name="saveStudent" class="com.imu.coursenet.action.admin.SaveStudentAction">
				<result type="redirectAction">
					<param name="actionName">listStudent</param>
				</result>	
		</action>
			<!-- 点击保存后，保存部门信息 -->
		<action name="saveDepartment" class="com.imu.coursenet.action.admin.SaveDepartmentAction">
				<result type="redirectAction">
					<param name="actionName">listDepartment</param>
				</result>	
		</action>
		<!-- 点击删除后，删除人员并返回显示人员界面 -->
		<action name="deleteUser" class="com.imu.coursenet.action.admin.DeleteUserAction">
				<result name="admin_succ" type="redirectAction">
					<param name="actionName">listAdmin</param>
				</result>	
				<result name="teacher_succ" type="redirectAction">
					<param name="actionName">listTeacher</param>
				</result>
				<result name="student_succ" type="redirectAction">
					<param name="actionName">listStudent</param>
				</result>
		</action>
		<!-- 在显示修改管理员页面前,用来找到管理员信息 -->
		<action name="beforeUpdateAdmin" class="com.imu.coursenet.action.admin.BeforeUpdateAdminAction">
				<result name="success">/admin/updateAdmin.jsp</result>	
		</action>
		<!-- 在更新管理员 -->
		<action name="updateAdmin" class="com.imu.coursenet.action.admin.UpdateAdminAction">
				<result name="success" type="redirectAction">
					<param name="actionName">listAdmin</param>
				</result>	
		</action>
		
		
		
		<action name="uploadPro" class="com.imu.coursenet.action.UploadAction">
			<!-- 动态设置Action的属性值 -->
			<param name="savePath">/uploadFiles</param>
			<!-- 配置Struts 2默认的视图页面 -->
			<result name="success">/upload-succ.jsp</result>	
		</action>
		
		<action name="*">
			<result>/{1}.jsp</result>
		</action>
	</package>
</struts>